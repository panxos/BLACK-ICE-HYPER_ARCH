#!/bin/bash
# vpn_status (Clean - No Colors)
IFACE=$(ip -o -4 addr show | awk '{print $2}' | grep -E 'tun0|wg0|utun|cscotun' | head -n 1)

if [ -n "$IFACE" ]; then
    IP=$(ip -o -4 addr show $IFACE | awk '{print $4}' | cut -d/ -f1)
    echo "{\"text\": \"$IP\", \"class\": \"connected\", \"tooltip\": \"VPN Connected: $IFACE ($IP)\"}"
else
    echo "{\"text\": \"Disconnected\", \"class\": \"disconnected\", \"tooltip\": \"No VPN Active\"}"
fi
